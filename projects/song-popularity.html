---
layout: default
title: Song Popularity Prediction
---

<section class="project-detail-section">
  <div class="project-header">
    <a href="/roadmap.html" class="back-link"><i class="fas fa-arrow-left"></i> Back to Roadmap</a>
    <h1 class="project-detail-title">Song Popularity Prediction</h1>
    <p class="project-detail-subtitle">Data Analysis and Feature Engineering</p>
    <div class="project-tags">
      <span class="tag">Python</span>
      <span class="tag">Pandas</span>
      <span class="tag">Feature Engineering</span>
      <span class="tag">Linear Regression</span>
      <span class="tag">EDA</span>
    </div>
    <div class="github-link">
      <a href="https://github.com/valemicolgarcia/Song-Popularity-Prediction" target="_blank" class="github-btn">
        <i class="fab fa-github"></i> Ver código en GitHub
      </a>
    </div>
  </div>

  <div class="project-content">
    <div class="project-overview">
      <h2>Problem to Solve</h2>
      <p>This project identifies the factors that influence the number of likes a song video receives on YouTube, allowing prediction of popularity based on musical characteristics and engagement metrics. The analysis uses a dataset with 28 variables that combine information from Spotify, YouTube, and musical composition properties.</p>
      <p><strong>Model used:</strong> Linear Regression</p>
    </div>

    <div class="dataset-section">
      <h2>1. Dataset Information</h2>
      <p class="section-description">The dataset contains information about Spotify songs and their corresponding videos on YouTube, with 28 variables including musical characteristics, engagement metrics, and metadata.</p>
      
      <div class="variables-info">
        <div class="variables-category">
          <h3>Categorical Variables (object)</h3>
          <ul>
            <li><strong>Artist:</strong> Artist name</li>
            <li><strong>Url_spotify:</strong> Artist URL on Spotify</li>
            <li><strong>Track:</strong> Song name as contained in Spotify</li>
            <li><strong>Album:</strong> Album containing the song</li>
            <li><strong>Album_type:</strong> Album type (solo or compilation)</li>
            <li><strong>Uri:</strong> Spotify link to find the song in the API</li>
            <li><strong>Url_youtube:</strong> Song video URL on YouTube</li>
            <li><strong>Title:</strong> Video title on YouTube</li>
            <li><strong>Channel:</strong> Name of the channel that published the video</li>
            <li><strong>official_video:</strong> Boolean variable indicating if the video is official</li>
            <li><strong>Description:</strong> Video description on YouTube</li>
            <li><strong>Licensed:</strong> Indicates if the video is licensed</li>
          </ul>
        </div>
        
        <div class="variables-category">
          <h3>Numeric Variables (float64)</h3>
          <ul>
            <li><strong>Danceability:</strong> How suitable the song is for dancing</li>
            <li><strong>Energy:</strong> Measure of intensity and activity</li>
            <li><strong>Key:</strong> The key the track is in</li>
            <li><strong>Loudness:</strong> The overall volume of the track in decibels (dB)</li>
            <li><strong>Speechiness:</strong> Detects the presence of spoken words in the track</li>
            <li><strong>Acousticness:</strong> Confidence measure to know if the track is acoustic</li>
            <li><strong>Instrumentalness:</strong> Indicates if a track contains no vocals</li>
            <li><strong>Liveness:</strong> Detects the presence of an audience in the recording</li>
            <li><strong>Valence:</strong> Describes the musical positivity conveyed by a track</li>
            <li><strong>Tempo:</strong> The overall estimated tempo in beats per minute (BPM)</li>
            <li><strong>Duration_ms:</strong> Song duration in milliseconds</li>
            <li><strong>Views:</strong> Views on YouTube</li>
            <li><strong>Likes:</strong> Likes on YouTube</li>
            <li><strong>Comments:</strong> Comments on YouTube</li>
            <li><strong>Stream:</strong> Number of song plays on Spotify</li>
          </ul>
        </div>
      </div>

      <div class="dataset-example">
        <h3>Dataset Example</h3>
        <div class="table-container">
          <table class="data-table">
            <thead>
              <tr>
                <th>Artist</th>
                <th>Track</th>
                <th>Album</th>
                <th>Album_type</th>
                <th>Danceability</th>
                <th>Energy</th>
                <th>Views</th>
                <th>Likes</th>
                <th>Comments</th>
                <th>Stream</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Gorillaz</td>
                <td>Feel Good Inc.</td>
                <td>Demon Days</td>
                <td>album</td>
                <td>0.818</td>
                <td>0.705</td>
                <td>693,555,221</td>
                <td>6,220,896</td>
                <td>169,907</td>
                <td>1.04e+09</td>
              </tr>
              <tr>
                <td>Gorillaz</td>
                <td>Rhinestone Eyes</td>
                <td>Plastic Beach</td>
                <td>album</td>
                <td>0.676</td>
                <td>0.703</td>
                <td>72,011,645</td>
                <td>1,079,128</td>
                <td>31,003</td>
                <td>3.10e+08</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="eda-section">
      <h2>2. Exploratory Data Analysis (EDA)</h2>
      <p class="section-description">An exploratory analysis was performed focused on answering three main questions about the factors that influence song popularity.</p>
      
      <div class="eda-questions">
        <div class="eda-question">
          <h3>Is there a relationship between song duration and number of likes?</h3>
          <div class="eda-image eda-image-small">
            <img src="{{ site.baseurl }}/projects/spotify-popularity-data/duracionvslikes.png" alt="Relationship between duration and likes" />
          </div>
        </div>
        
        <div class="eda-question">
          <h3>Is there a relationship between likes, comments, and views?</h3>
          <div class="eda-images-grid">
            <div class="eda-image">
              <img src="{{ site.baseurl }}/projects/spotify-popularity-data/likes-comentarios-visualizaciones.png" alt="Relación entre likes, comentarios y visualizaciones" />
            </div>
            <div class="eda-image">
              <img src="{{ site.baseurl }}/projects/spotify-popularity-data/visualizaciones-comentarios-likes.png" alt="Visualizaciones, comentarios y likes" />
            </div>
          </div>
        </div>
        
        <div class="eda-question">
          <h3>Does license influence the number of likes?</h3>
          <p class="eda-note">The relationship between video license status and their number of likes was analyzed to identify if this factor influences popularity.</p>
          <div class="eda-image eda-image-small">
            <img src="{{ site.baseurl }}/projects/spotify-popularity-data/licencia.png" alt="License influence on likes" />
          </div>
        </div>
      </div>
    </div>

    <div class="normality-section">
      <h2>3. Normality Analysis of Numeric Variables</h2>
      <p class="section-description">The distribution of numeric variables was analyzed to determine if they followed a normal distribution, which is crucial for deciding which imputation and scaling techniques to use.</p>
      <div class="analysis-image">
        <img src="{{ site.baseurl }}/projects/spotify-popularity-data/normalidad.png" alt="Normality analysis" />
      </div>
    </div>

    <div class="missing-data-section">
      <h2>4. Missing Data Treatment</h2>
      <p class="section-description">Different imputation strategies were applied according to variable type and distribution:</p>
      
      <div class="imputation-strategies">
        <div class="strategy-card">
          <h3>Normal Variables</h3>
          <p>Missing data is replaced with the <strong>mean</strong></p>
        </div>
        <div class="strategy-card">
          <h3>Non-Normal Variables</h3>
          <p>Missing data is replaced with the <strong>median</strong></p>
        </div>
        <div class="strategy-card">
          <h3>Categorical Variables</h3>
          <p>Missing data is replaced with the <strong>mode</strong></p>
        </div>
      </div>

      <div class="code-example">
        <h3>Implementation Example - Non-Normal Variables</h3>
        <pre><code>imputador = SimpleImputer(missing_values=np.nan, strategy='median')
# non-normal variables are replaced with the median

transformados = imputador.fit_transform(variables_NOnormales)
# dataset transformation

missing_count = pd.DataFrame(transformados).isnull().sum()
print('The number of nulls in each column is:')
print(missing_count)</code></pre>
      </div>
    </div>

    <div class="outliers-section">
      <h2>5. Outlier Treatment</h2>
      <p class="section-description">Atypical values were identified and treated using different methods according to variable distribution.</p>
      
      <div class="outliers-methods">
        <div class="method-card">
          <h3>Normal Variables - Z-Score</h3>
          <p>For variables with normal distribution, the <strong>Z-Score</strong> method was used to identify outliers. Values that are more than 3 standard deviations from the mean are considered outliers and are replaced with the <strong>mean</strong>.</p>
          <div class="formula">
            <p><strong>Z-Score:</strong> z = (x - μ) / σ</p>
            <p>If |z| > 3, then x is an outlier</p>
          </div>
        </div>
        
        <div class="method-card">
          <h3>Non-Normal Variables - IQR (Interquartile Range)</h3>
          <p>For variables without normal distribution, the <strong>IQR</strong> (Interquartile Range) method was used. However, due to the large number of outliers found, it was decided to keep them in the dataset to preserve information.</p>
          <div class="formula">
            <p><strong>IQR:</strong> IQR = Q3 - Q1</p>
            <p><strong>Limits:</strong> Lower limit = Q1 - 1.5×IQR</p>
            <p>Upper limit = Q3 + 1.5×IQR</p>
          </div>
        </div>
      </div>

      <div class="outliers-visualization">
        <h3>Visual Example - Danceability Variable</h3>
        <div class="boxplot-comparison">
          <div class="boxplot-item">
            <h4>With Outliers</h4>
            <img src="{{ site.baseurl }}/projects/spotify-popularity-data/danceabilityCONoutliers.png" alt="Danceability with outliers" />
          </div>
          <div class="boxplot-item">
            <h4>Without Outliers</h4>
            <img src="{{ site.baseurl }}/projects/spotify-popularity-data/danceabilitySINoutliers.png" alt="Danceability without outliers" />
          </div>
        </div>
      </div>
    </div>

    <div class="preprocessing-section">
      <h2>6. Data Processing</h2>
      
      <div class="preprocessing-step">
        <h3>6.1 Categorical Variable Encoding</h3>
        <p><strong>LabelEncoder</strong> from scikit-learn was used to convert categorical variables into numeric values, allowing the model to process them.</p>
        <div class="encoding-example">
          <div class="encoding-table">
            <h4>Before Encoding</h4>
            <table class="data-table">
              <thead>
                <tr>
                  <th>Artist</th>
                  <th>Album_type</th>
                  <th>Licensed</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Gorillaz</td>
                  <td>album</td>
                  <td>True</td>
                </tr>
                <tr>
                  <td>SICK LEGEND</td>
                  <td>single</td>
                  <td>True</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="encoding-table">
            <h4>After Encoding</h4>
            <table class="data-table">
              <thead>
                <tr>
                  <th>Artist</th>
                  <th>Album_type</th>
                  <th>Licensed</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>687</td>
                  <td>0</td>
                  <td>1</td>
                </tr>
                <tr>
                  <td>1234</td>
                  <td>2</td>
                  <td>1</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="preprocessing-step">
        <h3>6.2 Variable Scaling</h3>
        <p>Different scaling techniques were applied according to variable distribution:</p>
        <div class="scaling-strategies">
          <div class="strategy-card">
            <h4>Standard Scaler</h4>
            <p>For <strong>normal variables</strong>. Normalizes data by subtracting the mean and dividing by the standard deviation.</p>
            <div class="formula">
              <p>z = (x - μ) / σ</p>
            </div>
          </div>
          <div class="strategy-card">
            <h4>Robust Scaler</h4>
            <p>For <strong>non-normal variables</strong>. Uses the median and IQR, being more robust to outliers.</p>
            <div class="formula">
              <p>x_scaled = (x - median) / IQR</p>
            </div>
          </div>
        </div>
      </div>

      <div class="preprocessing-step">
        <h3>6.3 Correlation Analysis</h3>
        <p>The correlation map was analyzed to identify highly correlated variables and eliminate dependencies, avoiding the model having redundant information.</p>
        <div class="correlation-map">
          <img src="{{ site.baseurl }}/projects/spotify-popularity-data/mapacorrelaciones.png" alt="Correlation map" class="correlation-image" />
        </div>
        <p class="correlation-note">Variables with high correlation were eliminated to avoid multicollinearity in the linear regression model.</p>
      </div>
    </div>

    <div class="model-results-section">
      <h2>7. Model Results</h2>
      <p class="section-description">A Linear Regression model was trained and its performance was evaluated using multiple metrics.</p>
      
      <div class="important-variables">
        <h3>Most Important Variables</h3>
        <p class="variables-intro">It was determined that the following variables are the most important for predicting likes:</p>
        <div class="variables-list">
          <span class="variable-badge">Album_type</span>
          <span class="variable-badge">Valence</span>
          <span class="variable-badge">Views</span>
          <span class="variable-badge">Comments</span>
        </div>
      </div>

      <div class="metrics-display-new">
        <div class="metric-card-new">
          <div class="metric-header">
            <div class="metric-icon">R²</div>
            <div class="metric-title">R-squared</div>
          </div>
          <div class="metric-value-new">0.87</div>
          <div class="metric-desc-new">The model explains 87% of the variance in likes</div>
        </div>
        
        <div class="metric-card-new">
          <div class="metric-header">
            <div class="metric-icon">MAE</div>
            <div class="metric-title">Mean Absolute Error</div>
          </div>
          <div class="metric-value-new">0.51</div>
          <div class="metric-desc-new">Average absolute error of 0.51 units</div>
        </div>
        
        <div class="metric-card-new">
          <div class="metric-header">
            <div class="metric-icon">MSE</div>
            <div class="metric-title">Mean Squared Error</div>
          </div>
          <div class="metric-value-new">1.66</div>
          <div class="metric-desc-new">Mean squared error</div>
        </div>
        
        <div class="metric-card-new">
          <div class="metric-header">
            <div class="metric-icon">RMSE</div>
            <div class="metric-title">Root Mean Squared Error</div>
          </div>
          <div class="metric-value-new">1.29</div>
          <div class="metric-desc-new">Root mean squared error</div>
        </div>
      </div>

      <div class="results-summary">
        <h3>Results Interpretation</h3>
        <p>The Linear Regression model achieved an <strong>R² of 0.87</strong>, indicating that 87% of the variability in the number of likes can be explained by the musical and engagement characteristics included in the model. This demonstrates that:</p>
        <ul>
          <li>Musical characteristics (danceability, energy, tempo, etc.) have a significant influence on video popularity</li>
          <li>Engagement metrics (views, comments, streams) are strongly related to likes</li>
          <li>The model is capable of predicting with good accuracy the number of likes a video will receive based on these characteristics</li>
        </ul>
      </div>
    </div>
  </div>
</section>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
