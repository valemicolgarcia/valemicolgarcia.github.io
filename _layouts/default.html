<!DOCTYPE html>
<html>
  <head>
    <title>{% if page.title %}{{ page.title }} – {% endif %}{{ site.name }} – {{ site.description }}</title>

    {% include meta.html %}

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="{{ site.baseurl }}/style.css" />
    <link rel="alternate" type="application/rss+xml" title="{{ site.name }} - {{ site.description }}" href="{{ site.baseurl }}/feed.xml" />

    <!-- Created with Jekyll Now - http://github.com/barryclark/jekyll-now -->
  </head>

  <body>
    <nav class="navbar navbar-transparent" id="mainNavbar">
      <div class="navbar-container">
        <a href="/" class="navbar-name">Valeria Micol Garcia</a>
        <div class="navbar-links">
          <a href="/#about">ABOUT</a>
          <a href="/#career">CAREER</a>
          <a href="/blog.html">BLOG</a>
        </div>
      </div>
    </nav>

    <div id="main" role="main">
      {{ content }}
    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          {% include svg-icons.html %}
        </footer>
      </div>
    </div>

    {% include analytics.html %}

    <script>
      // Navbar scroll behavior
      window.addEventListener('DOMContentLoaded', function() {
        const navbar = document.getElementById('mainNavbar');
        const heroSection = document.querySelector('.hero-section');
        
        function updateNavbar() {
          // If no hero section, always use solid navbar
          if (!heroSection) {
            navbar.classList.remove('navbar-transparent');
            navbar.classList.add('navbar-solid');
            return;
          }
          
          const heroHeight = heroSection.offsetHeight;
          const scrollPosition = window.scrollY;
          
          if (scrollPosition > heroHeight) {
            navbar.classList.remove('navbar-transparent');
            navbar.classList.add('navbar-solid');
          } else {
            navbar.classList.remove('navbar-solid');
            navbar.classList.add('navbar-transparent');
          }
        }
        
        // Initial check
        updateNavbar();
        
        // Handle hash on page load (for direct navigation to sections)
        if (window.location.hash) {
          setTimeout(function() {
            const target = document.querySelector(window.location.hash);
            if (target) {
              const navbarHeight = navbar.offsetHeight;
              const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - navbarHeight;
              window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
              });
            }
          }, 100);
        }
        
        // Update on scroll
        window.addEventListener('scroll', updateNavbar);
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            const href = this.getAttribute('href');
            if (href === '#') return;
            
            const target = document.querySelector(href);
            if (target) {
              e.preventDefault();
              const navbarHeight = navbar.offsetHeight;
              const targetPosition = target.getBoundingClientRect().top + window.pageYOffset - navbarHeight;
              
              window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
              });
            }
          });
        });
      });
    </script>
  </body>
</html>
